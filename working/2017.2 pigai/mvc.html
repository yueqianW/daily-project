<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <select name="list" id="list" size="10" style="width: 10rem"></select>
    <br>
    <button id="plusBtn"> + </button>
    <button id="minusBtn"> - </button>
    <script>
    /**
     * 模型
     * @param {[type]} elems [description]
     */
    function Mode(elems) {
        this._elems = elems;
        this._selectedIndex = -1;
        this.itemAdd = new Event(this);
        this.itemRemoved = new Event(this);
        this._selectedIndexChanged = new Event(this);
    }

    Mode.prototype = {
        constructor: 'Mode',
        getItem: function() {
            return [].concat(this._elems);
        },
        addItem: function(elem) {
            this._elems.push(elem);
            this.itemAdd.notify({
                elem: elem
            });
        },
        removeItem: function(index) {
            var item = this._elems[index];
            this._elems.splice(index, 1);
            this.itemRemoved.notify({
                elem: item
            });
            if(index===this._selectedIndex){
            	this.setSelectedIndex(-1);
            }
        },
        getSelectedIndex:function(){
        	return this._selectedIndex;
        },
        setSelectedIndex:function(index){

        }
    }
    </script>
</body>

</html>
